{"ShowPlanXML": {"@xmlns": "http://schemas.microsoft.com/sqlserver/2004/07/showplan", "@Version": "1.564", "@Build": "16.0.1000.6", "BatchSequence": {"Batch": {"Statements": {"StmtSimple": {"@StatementText": "exec get_test_step  1, 'E7FAB167-C47A-4865-A8AE-429FA778414C', 'E7FAB167-C47A-4865-A8AE-429FA778414C'", "@StatementId": "1", "@StatementCompId": "1", "@StatementType": "EXECUTE PROC", "@RetrievedFromCache": "false", "StoredProc": {"@ProcName": "get_test_step", "Statements": {"StmtSimple": {"@StatementText": "\r\nCREATE procedure [dbo].[get_test_step]\r\n@lang_num int,\r\n@current_step_id uniqueidentifier,\r\n@t_testing_id uniqueidentifier\r\nas \r\n\r\n\r\nselect \r\ncase @lang_num\r\nwhen 2  then ts.page_usr_text_lang2\r\nwhen 3  then ts.page_usr_text_lang3\r\nelse ts.page_usr_text_lang1\r\n\r\nend \r\nas PAGE_USR_TEXT,\r\ntt.result_txt\r\nfrom t_test_step ts inner join t_testing_step tt \r\non ts.t_test_step_id=tt.t_test_step_id\r\nwhere ts.t_test_step_id=@current_step_id and tt.t_testing_id=@t_testing_id", "@StatementId": "2", "@StatementCompId": "3", "@StatementType": "SELECT", "@RetrievedFromCache": "false", "@StatementSubTreeCost": "0.304974", "@StatementEstRows": "1", "@SecurityPolicyApplied": "false", "@StatementOptmLevel": "FULL", "@QueryHash": "0x07A85B7E44284607", "@QueryPlanHash": "0x32FF30DE064DB49D", "@StatementOptmEarlyAbortReason": "GoodEnoughPlanFound", "@CardinalityEstimationModelVersion": "70", "StatementSetOptions": {"@QUOTED_IDENTIFIER": "true", "@ARITHABORT": "true", "@CONCAT_NULL_YIELDS_NULL": "true", "@ANSI_NULLS": "true", "@ANSI_PADDING": "true", "@ANSI_WARNINGS": "true", "@NUMERIC_ROUNDABORT": "false"}, "QueryPlan": {"@CachedPlanSize": "32", "@CompileTime": "4", "@CompileCPU": "4", "@CompileMemory": "312", "MissingIndexes": {"MissingIndexGroup": [{"@Impact": "96.9259", "MissingIndex": {"@Database": "[PSYCHOLOGY_TEST_1]", "@Schema": "[dbo]", "@Table": "[T_TESTING_STEP]", "ColumnGroup": {"@Usage": "EQUALITY", "Column": [{"@Name": "[T_TESTING_ID]", "@ColumnId": "4"}, {"@Name": "[T_TEST_STEP_ID]", "@ColumnId": "6"}]}}}, {"@Impact": "96.9272", "MissingIndex": {"@Database": "[PSYCHOLOGY_TEST_1]", "@Schema": "[dbo]", "@Table": "[T_TESTING_STEP]", "ColumnGroup": [{"@Usage": "EQUALITY", "Column": [{"@Name": "[T_TESTING_ID]", "@ColumnId": "4"}, {"@Name": "[T_TEST_STEP_ID]", "@ColumnId": "6"}]}, {"@Usage": "INCLUDE", "Column": {"@Name": "[RESULT_TXT]", "@ColumnId": "5"}}]}}]}, "MemoryGrantInfo": {"@SerialRequiredMemory": "0", "@SerialDesiredMemory": "0", "@GrantedMemory": "0", "@MaxUsedMemory": "0"}, "OptimizerHardwareDependentProperties": {"@EstimatedAvailableMemoryGrant": "311472", "@EstimatedPagesCached": "77868", "@EstimatedAvailableDegreeOfParallelism": "2", "@MaxCompileMemory": "623184"}, "RelOp": {"@NodeId": "0", "@PhysicalOp": "Compute Scalar", "@LogicalOp": "Compute Scalar", "@EstimateRows": "1", "@EstimateIO": "0", "@EstimateCPU": "1e-07", "@AvgRowSize": "1081", "@EstimatedTotalSubtreeCost": "0.304974", "@Parallel": "0", "@EstimateRebinds": "0", "@EstimateRewinds": "0", "@EstimatedExecutionMode": "Row", "OutputList": {"ColumnReference": [{"@Database": "[PSYCHOLOGY_TEST_1]", "@Schema": "[dbo]", "@Table": "[T_TESTING_STEP]", "@Alias": "[tt]", "@Column": "RESULT_TXT"}, {"@Column": "Expr1002"}]}, "ComputeScalar": {"DefinedValues": {"DefinedValue": {"ColumnReference": {"@Column": "Expr1002"}, "ScalarOperator": {"@ScalarString": "CASE WHEN [@lang_num]=(2) THEN [PSYCHOLOGY_TEST_1].[dbo].[T_TEST_STEP].[PAGE_USR_TEXT_LANG2] as [ts].[PAGE_USR_TEXT_LANG2] ELSE CASE WHEN [@lang_num]=(3) THEN [PSYCHOLOGY_TEST_1].[dbo].[T_TEST_STEP].[PAGE_USR_TEXT_LANG3] as [ts].[PAGE_USR_TEXT_LANG3] ELSE [PSYCHOLOGY_TEST_1].[dbo].[T_TEST_STEP].[PAGE_USR_TEXT_LANG1] as [ts].[PAGE_USR_TEXT_LANG1] END END", "IF": {"Condition": {"ScalarOperator": {"Compare": {"@CompareOp": "EQ", "ScalarOperator": [{"Identifier": {"ColumnReference": {"@Column": "@lang_num"}}}, {"Const": {"@ConstValue": "(2)"}}]}}}, "Then": {"ScalarOperator": {"Identifier": {"ColumnReference": {"@Database": "[PSYCHOLOGY_TEST_1]", "@Schema": "[dbo]", "@Table": "[T_TEST_STEP]", "@Alias": "[ts]", "@Column": "PAGE_USR_TEXT_LANG2"}}}}, "Else": {"ScalarOperator": {"IF": {"Condition": {"ScalarOperator": {"Compare": {"@CompareOp": "EQ", "ScalarOperator": [{"Identifier": {"ColumnReference": {"@Column": "@lang_num"}}}, {"Const": {"@ConstValue": "(3)"}}]}}}, "Then": {"ScalarOperator": {"Identifier": {"ColumnReference": {"@Database": "[PSYCHOLOGY_TEST_1]", "@Schema": "[dbo]", "@Table": "[T_TEST_STEP]", "@Alias": "[ts]", "@Column": "PAGE_USR_TEXT_LANG3"}}}}, "Else": {"ScalarOperator": {"Identifier": {"ColumnReference": {"@Database": "[PSYCHOLOGY_TEST_1]", "@Schema": "[dbo]", "@Table": "[T_TEST_STEP]", "@Alias": "[ts]", "@Column": "PAGE_USR_TEXT_LANG1"}}}}}}}}}}}, "RelOp": {"@NodeId": "1", "@PhysicalOp": "Nested Loops", "@LogicalOp": "Inner Join", "@EstimateRows": "1", "@EstimateIO": "0", "@EstimateCPU": "4.18e-06", "@AvgRowSize": "1221", "@EstimatedTotalSubtreeCost": "0.304974", "@Parallel": "0", "@EstimateRebinds": "0", "@EstimateRewinds": "0", "@EstimatedExecutionMode": "Row", "OutputList": {"ColumnReference": [{"@Database": "[PSYCHOLOGY_TEST_1]", "@Schema": "[dbo]", "@Table": "[T_TEST_STEP]", "@Alias": "[ts]", "@Column": "PAGE_USR_TEXT_LANG1"}, {"@Database": "[PSYCHOLOGY_TEST_1]", "@Schema": "[dbo]", "@Table": "[T_TEST_STEP]", "@Alias": "[ts]", "@Column": "PAGE_USR_TEXT_LANG2"}, {"@Database": "[PSYCHOLOGY_TEST_1]", "@Schema": "[dbo]", "@Table": "[T_TEST_STEP]", "@Alias": "[ts]", "@Column": "PAGE_USR_TEXT_LANG3"}, {"@Database": "[PSYCHOLOGY_TEST_1]", "@Schema": "[dbo]", "@Table": "[T_TESTING_STEP]", "@Alias": "[tt]", "@Column": "RESULT_TXT"}]}, "NestedLoops": {"@Optimized": "0", "RelOp": [{"@NodeId": "2", "@PhysicalOp": "Clustered Index Seek", "@LogicalOp": "Clustered Index Seek", "@EstimateRows": "1", "@EstimatedRowsRead": "1", "@EstimateIO": "0.003125", "@EstimateCPU": "0.0001581", "@AvgRowSize": "219", "@EstimatedTotalSubtreeCost": "0.0032831", "@TableCardinality": "940", "@Parallel": "0", "@EstimateRebinds": "0", "@EstimateRewinds": "0", "@EstimatedExecutionMode": "Row", "OutputList": {"ColumnReference": [{"@Database": "[PSYCHOLOGY_TEST_1]", "@Schema": "[dbo]", "@Table": "[T_TEST_STEP]", "@Alias": "[ts]", "@Column": "PAGE_USR_TEXT_LANG1"}, {"@Database": "[PSYCHOLOGY_TEST_1]", "@Schema": "[dbo]", "@Table": "[T_TEST_STEP]", "@Alias": "[ts]", "@Column": "PAGE_USR_TEXT_LANG2"}, {"@Database": "[PSYCHOLOGY_TEST_1]", "@Schema": "[dbo]", "@Table": "[T_TEST_STEP]", "@Alias": "[ts]", "@Column": "PAGE_USR_TEXT_LANG3"}]}, "IndexScan": {"@Ordered": "1", "@ScanDirection": "FORWARD", "@ForcedIndex": "0", "@ForceSeek": "0", "@ForceScan": "0", "@NoExpandHint": "0", "@Storage": "RowStore", "DefinedValues": {"DefinedValue": [{"ColumnReference": {"@Database": "[PSYCHOLOGY_TEST_1]", "@Schema": "[dbo]", "@Table": "[T_TEST_STEP]", "@Alias": "[ts]", "@Column": "PAGE_USR_TEXT_LANG1"}}, {"ColumnReference": {"@Database": "[PSYCHOLOGY_TEST_1]", "@Schema": "[dbo]", "@Table": "[T_TEST_STEP]", "@Alias": "[ts]", "@Column": "PAGE_USR_TEXT_LANG2"}}, {"ColumnReference": {"@Database": "[PSYCHOLOGY_TEST_1]", "@Schema": "[dbo]", "@Table": "[T_TEST_STEP]", "@Alias": "[ts]", "@Column": "PAGE_USR_TEXT_LANG3"}}]}, "Object": {"@Database": "[PSYCHOLOGY_TEST_1]", "@Schema": "[dbo]", "@Table": "[T_TEST_STEP]", "@Index": "[PK_T_TEST_STEP]", "@Alias": "[ts]", "@IndexKind": "Clustered", "@Storage": "RowStore"}, "SeekPredicates": {"SeekPredicateNew": {"SeekKeys": {"Prefix": {"@ScanType": "EQ", "RangeColumns": {"ColumnReference": {"@Database": "[PSYCHOLOGY_TEST_1]", "@Schema": "[dbo]", "@Table": "[T_TEST_STEP]", "@Alias": "[ts]", "@Column": "T_TEST_STEP_ID"}}, "RangeExpressions": {"ScalarOperator": {"@ScalarString": "[@current_step_id]", "Identifier": {"ColumnReference": {"@Column": "@current_step_id"}}}}}}}}}}, {"@NodeId": "3", "@PhysicalOp": "Clustered Index Scan", "@LogicalOp": "Clustered Index Scan", "@EstimateRows": "1", "@EstimatedRowsRead": "22015", "@EstimateIO": "0.25794", "@EstimateCPU": "0.0243735", "@AvgRowSize": "1043", "@EstimatedTotalSubtreeCost": "0.282313", "@TableCardinality": "22015", "@Parallel": "0", "@EstimateRebinds": "0", "@EstimateRewinds": "0", "@EstimatedExecutionMode": "Row", "OutputList": {"ColumnReference": {"@Database": "[PSYCHOLOGY_TEST_1]", "@Schema": "[dbo]", "@Table": "[T_TESTING_STEP]", "@Alias": "[tt]", "@Column": "RESULT_TXT"}}, "IndexScan": {"@Ordered": "0", "@ForcedIndex": "0", "@ForceScan": "0", "@NoExpandHint": "0", "@Storage": "RowStore", "DefinedValues": {"DefinedValue": {"ColumnReference": {"@Database": "[PSYCHOLOGY_TEST_1]", "@Schema": "[dbo]", "@Table": "[T_TESTING_STEP]", "@Alias": "[tt]", "@Column": "RESULT_TXT"}}}, "Object": {"@Database": "[PSYCHOLOGY_TEST_1]", "@Schema": "[dbo]", "@Table": "[T_TESTING_STEP]", "@Index": "[PK_T_TESTING_STEP]", "@Alias": "[tt]", "@IndexKind": "Clustered", "@Storage": "RowStore"}, "Predicate": {"ScalarOperator": {"@ScalarString": "[PSYCHOLOGY_TEST_1].[dbo].[T_TESTING_STEP].[T_TEST_STEP_ID] as [tt].[T_TEST_STEP_ID]=[@current_step_id] AND [PSYCHOLOGY_TEST_1].[dbo].[T_TESTING_STEP].[T_TESTING_ID] as [tt].[T_TESTING_ID]=[@t_testing_id]", "Logical": {"@Operation": "AND", "ScalarOperator": [{"Compare": {"@CompareOp": "EQ", "ScalarOperator": [{"Identifier": {"ColumnReference": {"@Database": "[PSYCHOLOGY_TEST_1]", "@Schema": "[dbo]", "@Table": "[T_TESTING_STEP]", "@Alias": "[tt]", "@Column": "T_TEST_STEP_ID"}}}, {"Identifier": {"ColumnReference": {"@Column": "@current_step_id"}}}]}}, {"Compare": {"@CompareOp": "EQ", "ScalarOperator": [{"Identifier": {"ColumnReference": {"@Database": "[PSYCHOLOGY_TEST_1]", "@Schema": "[dbo]", "@Table": "[T_TESTING_STEP]", "@Alias": "[tt]", "@Column": "T_TESTING_ID"}}}, {"Identifier": {"ColumnReference": {"@Column": "@t_testing_id"}}}]}}]}}}}}]}}}}, "ParameterList": {"ColumnReference": [{"@Column": "@lang_num", "@ParameterDataType": "int", "@ParameterCompiledValue": "(1)"}, {"@Column": "@t_testing_id", "@ParameterDataType": "uniqueidentifier", "@ParameterCompiledValue": "{guid'E7FAB167-C47A-4865-A8AE-429FA778414C'}"}, {"@Column": "@current_step_id", "@ParameterDataType": "uniqueidentifier", "@ParameterCompiledValue": "{guid'E7FAB167-C47A-4865-A8AE-429FA778414C'}"}]}}}}}}}}}}}