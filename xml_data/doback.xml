<ShowPlanXML xmlns="http://schemas.microsoft.com/sqlserver/2004/07/showplan" Version="1.564" Build="16.0.1000.6"><BatchSequence><Batch><Statements><StmtSimple StatementText="exec doback  &apos;E7FAB167-C47A-4865-A8AE-429FA778414C&apos;, &apos;E7FAB167-C47A-4865-A8AE-429FA778414C&apos;" StatementId="1" StatementCompId="1" StatementType="EXECUTE PROC" RetrievedFromCache="false"><StoredProc ProcName="doback"><Statements><StmtSimple StatementText="&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;CREATE procedure [dbo].[doback]&#xd;&#xa;@t_testing_id uniqueidentifier,&#xd;&#xa;@t_testing_step_id uniqueidentifier&#xd;&#xa;&#xd;&#xa;as &#xd;&#xa;&#xd;&#xa;SET XACT_ABORT ON;&#xd;&#xa;" StatementId="2" StatementCompId="3" StatementType="SET ON/OFF" RetrievedFromCache="false"></StmtSimple><StmtSimple StatementText="begin transaction &#xd;&#xa;&#xd;&#xa;&#xd;&#xa;" StatementId="3" StatementCompId="4" StatementType="BEGIN TRANSACTION" RetrievedFromCache="false"></StmtSimple><StmtSimple StatementText="declare @current_step_id uniqueidentifier&#xd;&#xa;declare @t_test_id uniqueidentifier &#xd;&#xa;declare @prev_step_id uniqueidentifier&#xd;&#xa;declare @back_only_1_step char(1)&#xd;&#xa;declare @back_btn_mark char(1)&#xd;&#xa;&#xd;&#xa;select @current_step_id=current_step_id&#xd;&#xa;from t_testing t inner join&#xd;&#xa;t_testing_test tt on&#xd;&#xa;t.t_testing_id=tt.t_testing_id&#xd;&#xa;and t.current_test_id = tt.t_test_id&#xd;&#xa;where t.t_testing_id=@t_testing_id" StatementId="4" StatementCompId="5" StatementType="SELECT" RetrievedFromCache="false" StatementSubTreeCost="0.00915046" StatementEstRows="1" SecurityPolicyApplied="false" StatementOptmLevel="FULL" QueryHash="0x91179B6F17A86B7D" QueryPlanHash="0x5FEC31F8504DC023" StatementOptmEarlyAbortReason="GoodEnoughPlanFound" CardinalityEstimationModelVersion="70"><StatementSetOptions QUOTED_IDENTIFIER="true" ARITHABORT="true" CONCAT_NULL_YIELDS_NULL="true" ANSI_NULLS="true" ANSI_PADDING="true" ANSI_WARNINGS="true" NUMERIC_ROUNDABORT="false"></StatementSetOptions><QueryPlan CachedPlanSize="24" CompileTime="3" CompileCPU="3" CompileMemory="416"><MemoryGrantInfo SerialRequiredMemory="0" SerialDesiredMemory="0" GrantedMemory="0" MaxUsedMemory="0"></MemoryGrantInfo><OptimizerHardwareDependentProperties EstimatedAvailableMemoryGrant="311472" EstimatedPagesCached="77868" EstimatedAvailableDegreeOfParallelism="2" MaxCompileMemory="854992"></OptimizerHardwareDependentProperties><RelOp NodeId="0" PhysicalOp="Nested Loops" LogicalOp="Inner Join" EstimateRows="1" EstimateIO="0" EstimateCPU="4.18e-06" AvgRowSize="23" EstimatedTotalSubtreeCost="0.00915046" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row"><OutputList><ColumnReference Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TESTING_TEST]" Alias="[tt]" Column="CURRENT_STEP_ID"></ColumnReference></OutputList><NestedLoops Optimized="0"><Predicate><ScalarOperator ScalarString="[PSYCHOLOGY_TEST_1].[dbo].[T_TESTING].[CURRENT_TEST_ID] as [t].[CURRENT_TEST_ID]=[PSYCHOLOGY_TEST_1].[dbo].[T_TESTING_TEST].[T_TEST_ID] as [tt].[T_TEST_ID]"><Compare CompareOp="EQ"><ScalarOperator><Identifier><ColumnReference Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TESTING]" Alias="[t]" Column="CURRENT_TEST_ID"></ColumnReference></Identifier></ScalarOperator><ScalarOperator><Identifier><ColumnReference Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TESTING_TEST]" Alias="[tt]" Column="T_TEST_ID"></ColumnReference></Identifier></ScalarOperator></Compare></ScalarOperator></Predicate><RelOp NodeId="1" PhysicalOp="Clustered Index Seek" LogicalOp="Clustered Index Seek" EstimateRows="1" EstimatedRowsRead="1" EstimateIO="0.003125" EstimateCPU="0.0001581" AvgRowSize="23" EstimatedTotalSubtreeCost="0.0032831" TableCardinality="166" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row"><OutputList><ColumnReference Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TESTING]" Alias="[t]" Column="CURRENT_TEST_ID"></ColumnReference></OutputList><IndexScan Ordered="1" ScanDirection="FORWARD" ForcedIndex="0" ForceSeek="0" ForceScan="0" NoExpandHint="0" Storage="RowStore"><DefinedValues><DefinedValue><ColumnReference Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TESTING]" Alias="[t]" Column="CURRENT_TEST_ID"></ColumnReference></DefinedValue></DefinedValues><Object Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TESTING]" Index="[PK_T_TESTING]" Alias="[t]" IndexKind="Clustered" Storage="RowStore"></Object><SeekPredicates><SeekPredicateNew><SeekKeys><Prefix ScanType="EQ"><RangeColumns><ColumnReference Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TESTING]" Alias="[t]" Column="T_TESTING_ID"></ColumnReference></RangeColumns><RangeExpressions><ScalarOperator ScalarString="[@t_testing_id]"><Identifier><ColumnReference Column="@t_testing_id"></ColumnReference></Identifier></ScalarOperator></RangeExpressions></Prefix></SeekKeys></SeekPredicateNew></SeekPredicates></IndexScan></RelOp><RelOp NodeId="2" PhysicalOp="Clustered Index Scan" LogicalOp="Clustered Index Scan" EstimateRows="1" EstimatedRowsRead="227" EstimateIO="0.00534722" EstimateCPU="0.0004067" AvgRowSize="55" EstimatedTotalSubtreeCost="0.00575392" TableCardinality="227" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row"><OutputList><ColumnReference Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TESTING_TEST]" Alias="[tt]" Column="T_TEST_ID"></ColumnReference><ColumnReference Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TESTING_TEST]" Alias="[tt]" Column="CURRENT_STEP_ID"></ColumnReference></OutputList><IndexScan Ordered="0" ForcedIndex="0" ForceScan="0" NoExpandHint="0" Storage="RowStore"><DefinedValues><DefinedValue><ColumnReference Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TESTING_TEST]" Alias="[tt]" Column="T_TEST_ID"></ColumnReference></DefinedValue><DefinedValue><ColumnReference Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TESTING_TEST]" Alias="[tt]" Column="CURRENT_STEP_ID"></ColumnReference></DefinedValue></DefinedValues><Object Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TESTING_TEST]" Index="[PK_T_TESTING_TEST]" Alias="[tt]" IndexKind="Clustered" Storage="RowStore"></Object><Predicate><ScalarOperator ScalarString="[PSYCHOLOGY_TEST_1].[dbo].[T_TESTING_TEST].[T_TESTING_ID] as [tt].[T_TESTING_ID]=[@t_testing_id]"><Compare CompareOp="EQ"><ScalarOperator><Identifier><ColumnReference Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TESTING_TEST]" Alias="[tt]" Column="T_TESTING_ID"></ColumnReference></Identifier></ScalarOperator><ScalarOperator><Identifier><ColumnReference Column="@t_testing_id"></ColumnReference></Identifier></ScalarOperator></Compare></ScalarOperator></Predicate></IndexScan></RelOp></NestedLoops></RelOp><ParameterList><ColumnReference Column="@t_testing_id" ParameterDataType="uniqueidentifier" ParameterCompiledValue="{guid&apos;E7FAB167-C47A-4865-A8AE-429FA778414C&apos;}"></ColumnReference></ParameterList></QueryPlan></StmtSimple><StmtCond StatementText="&#xd;&#xa;&#xd;&#xa;if @current_step_id=@t_testing_step_id" StatementId="5" StatementCompId="6" StatementType="COND" RetrievedFromCache="false"><Condition></Condition><Then><Statements><StmtSimple StatementText="&#xd;&#xa;begin&#xd;&#xa; &#xd;&#xa; set @t_test_id = (select current_test_id from t_testing  where t_testing_id=@t_testing_id )" StatementId="6" StatementCompId="7" StatementType="SELECT" RetrievedFromCache="false" StatementSubTreeCost="0.00328854" StatementEstRows="1" SecurityPolicyApplied="false" StatementOptmLevel="FULL" QueryHash="0xDE61E9468B0CE8ED" QueryPlanHash="0xADB8E700382F5C7F" StatementOptmEarlyAbortReason="GoodEnoughPlanFound" CardinalityEstimationModelVersion="70"><StatementSetOptions QUOTED_IDENTIFIER="true" ARITHABORT="true" CONCAT_NULL_YIELDS_NULL="true" ANSI_NULLS="true" ANSI_PADDING="true" ANSI_WARNINGS="true" NUMERIC_ROUNDABORT="false"></StatementSetOptions><QueryPlan CachedPlanSize="16" CompileTime="1" CompileCPU="1" CompileMemory="376"><MemoryGrantInfo SerialRequiredMemory="0" SerialDesiredMemory="0" GrantedMemory="0" MaxUsedMemory="0"></MemoryGrantInfo><OptimizerHardwareDependentProperties EstimatedAvailableMemoryGrant="311472" EstimatedPagesCached="77868" EstimatedAvailableDegreeOfParallelism="2" MaxCompileMemory="854992"></OptimizerHardwareDependentProperties><RelOp NodeId="0" PhysicalOp="Compute Scalar" LogicalOp="Compute Scalar" EstimateRows="1" EstimateIO="0" EstimateCPU="1e-07" AvgRowSize="23" EstimatedTotalSubtreeCost="0.00328854" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row"><OutputList><ColumnReference Column="Expr1003"></ColumnReference></OutputList><ComputeScalar><DefinedValues><DefinedValue><ColumnReference Column="Expr1003"></ColumnReference><ScalarOperator ScalarString="[PSYCHOLOGY_TEST_1].[dbo].[T_TESTING].[CURRENT_TEST_ID]"><Identifier><ColumnReference Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TESTING]" Column="CURRENT_TEST_ID"></ColumnReference></Identifier></ScalarOperator></DefinedValue></DefinedValues><RelOp NodeId="1" PhysicalOp="Nested Loops" LogicalOp="Left Outer Join" EstimateRows="1" EstimateIO="0" EstimateCPU="4.18e-06" AvgRowSize="23" EstimatedTotalSubtreeCost="0.00328844" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row"><OutputList><ColumnReference Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TESTING]" Column="CURRENT_TEST_ID"></ColumnReference></OutputList><NestedLoops Optimized="0"><RelOp NodeId="2" PhysicalOp="Constant Scan" LogicalOp="Constant Scan" EstimateRows="1" EstimateIO="0" EstimateCPU="1.157e-06" AvgRowSize="9" EstimatedTotalSubtreeCost="1.157e-06" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row"><OutputList></OutputList><ConstantScan></ConstantScan></RelOp><RelOp NodeId="3" PhysicalOp="Clustered Index Seek" LogicalOp="Clustered Index Seek" EstimateRows="1" EstimatedRowsRead="1" EstimateIO="0.003125" EstimateCPU="0.0001581" AvgRowSize="23" EstimatedTotalSubtreeCost="0.0032831" TableCardinality="166" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row"><OutputList><ColumnReference Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TESTING]" Column="CURRENT_TEST_ID"></ColumnReference></OutputList><IndexScan Ordered="1" ScanDirection="FORWARD" ForcedIndex="0" ForceSeek="0" ForceScan="0" NoExpandHint="0" Storage="RowStore"><DefinedValues><DefinedValue><ColumnReference Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TESTING]" Column="CURRENT_TEST_ID"></ColumnReference></DefinedValue></DefinedValues><Object Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TESTING]" Index="[PK_T_TESTING]" IndexKind="Clustered" Storage="RowStore"></Object><SeekPredicates><SeekPredicateNew><SeekKeys><Prefix ScanType="EQ"><RangeColumns><ColumnReference Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TESTING]" Column="T_TESTING_ID"></ColumnReference></RangeColumns><RangeExpressions><ScalarOperator ScalarString="[@t_testing_id]"><Identifier><ColumnReference Column="@t_testing_id"></ColumnReference></Identifier></ScalarOperator></RangeExpressions></Prefix></SeekKeys></SeekPredicateNew></SeekPredicates></IndexScan></RelOp></NestedLoops></RelOp></ComputeScalar></RelOp><ParameterList><ColumnReference Column="@t_testing_id" ParameterDataType="uniqueidentifier" ParameterCompiledValue="{guid&apos;E7FAB167-C47A-4865-A8AE-429FA778414C&apos;}"></ColumnReference></ParameterList></QueryPlan></StmtSimple><StmtSimple StatementText="&#xd;&#xa;&#xd;&#xa;/* what is th privious test step?  */&#xd;&#xa; set @prev_step_id = NULL &#xd;&#xa; &#xd;&#xa; " StatementId="7" StatementCompId="8" StatementType="ASSIGN" RetrievedFromCache="false"></StmtSimple><StmtSimple StatementText="select @back_only_1_step=back_only_1_step,&#xd;&#xa; @back_btn_mark=back_btn_mark&#xd;&#xa; from t_test &#xd;&#xa; where t_test_id = @t_test_id" StatementId="8" StatementCompId="9" StatementType="SELECT" RetrievedFromCache="false" StatementSubTreeCost="0.0032831" StatementEstRows="1" SecurityPolicyApplied="false" StatementOptmLevel="TRIVIAL" QueryHash="0x2CA216716F92EB90" QueryPlanHash="0x8C1D1572DDCB6669" CardinalityEstimationModelVersion="70"><StatementSetOptions QUOTED_IDENTIFIER="true" ARITHABORT="true" CONCAT_NULL_YIELDS_NULL="true" ANSI_NULLS="true" ANSI_PADDING="true" ANSI_WARNINGS="true" NUMERIC_ROUNDABORT="false"></StatementSetOptions><QueryPlan CachedPlanSize="16" CompileTime="0" CompileCPU="0" CompileMemory="312"><MemoryGrantInfo SerialRequiredMemory="0" SerialDesiredMemory="0" GrantedMemory="0" MaxUsedMemory="0"></MemoryGrantInfo><OptimizerHardwareDependentProperties EstimatedAvailableMemoryGrant="311472" EstimatedPagesCached="77868" EstimatedAvailableDegreeOfParallelism="2" MaxCompileMemory="854992"></OptimizerHardwareDependentProperties><RelOp NodeId="0" PhysicalOp="Clustered Index Seek" LogicalOp="Clustered Index Seek" EstimateRows="1" EstimatedRowsRead="1" EstimateIO="0.003125" EstimateCPU="0.0001581" AvgRowSize="9" EstimatedTotalSubtreeCost="0.0032831" TableCardinality="19" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row"><OutputList><ColumnReference Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TEST]" Column="BACK_BTN_MARK"></ColumnReference><ColumnReference Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TEST]" Column="BACK_ONLY_1_STEP"></ColumnReference></OutputList><IndexScan Ordered="1" ScanDirection="FORWARD" ForcedIndex="0" ForceSeek="0" ForceScan="0" NoExpandHint="0" Storage="RowStore"><DefinedValues><DefinedValue><ColumnReference Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TEST]" Column="BACK_BTN_MARK"></ColumnReference></DefinedValue><DefinedValue><ColumnReference Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TEST]" Column="BACK_ONLY_1_STEP"></ColumnReference></DefinedValue></DefinedValues><Object Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TEST]" Index="[PK_T_TEST_1]" IndexKind="Clustered" Storage="RowStore"></Object><SeekPredicates><SeekPredicateNew><SeekKeys><Prefix ScanType="EQ"><RangeColumns><ColumnReference Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TEST]" Column="T_TEST_ID"></ColumnReference></RangeColumns><RangeExpressions><ScalarOperator ScalarString="[@t_test_id]"><Identifier><ColumnReference Column="@t_test_id"></ColumnReference></Identifier></ScalarOperator></RangeExpressions></Prefix></SeekKeys></SeekPredicateNew></SeekPredicates></IndexScan></RelOp></QueryPlan></StmtSimple><StmtCond StatementText="&#xd;&#xa;/* in case if option back for test is disabled raise error  */&#xd;&#xa; if @back_btn_mark!=&apos;y&apos;" StatementId="9" StatementCompId="10" StatementType="COND" RetrievedFromCache="false"><Condition></Condition><Then><Statements><StmtSimple StatementText=" &#xd;&#xa;  begin &#xd;&#xa;    RAISERROR (&apos;CURRENT TEST DOES NOT ALLOW BACK ACTION !&apos;,16,1,0) with log             &#xd;&#xa;    " StatementId="10" StatementCompId="11" StatementType="RAISERROR" RetrievedFromCache="false"></StmtSimple><StmtSimple StatementText="commit transaction&#xd;&#xa;    " StatementId="11" StatementCompId="12" StatementType="COMMIT TRANSACTION" RetrievedFromCache="false"></StmtSimple><StmtSimple StatementText="return" StatementId="12" StatementCompId="13" StatementType="RETURN NONE" RetrievedFromCache="false"></StmtSimple></Statements></Then></StmtCond><StmtCond StatementText=" &#xd;&#xa;  end&#xd;&#xa;&#xd;&#xa;  &#xd;&#xa;  &#xd;&#xa;    if (@back_only_1_step = &apos;y&apos;) AND (select LEN(result_txt) from t_testing_step &#xd;&#xa;         where t_testing_id=@t_testing_id and t_test_step_id=@current_step_id)&gt;0" StatementId="13" StatementCompId="15" StatementType="COND WITH QUERY" RetrievedFromCache="false" StatementSubTreeCost="0.301694" StatementEstRows="1" SecurityPolicyApplied="false" StatementOptmLevel="FULL" QueryHash="0x5F8C7FDD4A1C77D8" QueryPlanHash="0x61026F4464BE071B" StatementOptmEarlyAbortReason="GoodEnoughPlanFound" CardinalityEstimationModelVersion="70"><StatementSetOptions QUOTED_IDENTIFIER="true" ARITHABORT="true" CONCAT_NULL_YIELDS_NULL="true" ANSI_NULLS="true" ANSI_PADDING="true" ANSI_WARNINGS="true" NUMERIC_ROUNDABORT="false"></StatementSetOptions><Condition><QueryPlan CachedPlanSize="32" CompileTime="2" CompileCPU="2" CompileMemory="528"><MissingIndexes><MissingIndexGroup Impact="97.9796"><MissingIndex Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TESTING_STEP]"><ColumnGroup Usage="EQUALITY"><Column Name="[T_TESTING_ID]" ColumnId="4"></Column><Column Name="[T_TEST_STEP_ID]" ColumnId="6"></Column></ColumnGroup></MissingIndex></MissingIndexGroup></MissingIndexes><MemoryGrantInfo SerialRequiredMemory="0" SerialDesiredMemory="0" GrantedMemory="0" MaxUsedMemory="0"></MemoryGrantInfo><OptimizerHardwareDependentProperties EstimatedAvailableMemoryGrant="311472" EstimatedPagesCached="77868" EstimatedAvailableDegreeOfParallelism="2" MaxCompileMemory="854992"></OptimizerHardwareDependentProperties><RelOp NodeId="0" PhysicalOp="Compute Scalar" LogicalOp="Compute Scalar" EstimateRows="1" EstimateIO="0" EstimateCPU="1e-07" AvgRowSize="11" EstimatedTotalSubtreeCost="0.301694" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row"><OutputList><ColumnReference Column="Expr1003"></ColumnReference></OutputList><ComputeScalar><DefinedValues><DefinedValue><ColumnReference Column="Expr1003"></ColumnReference><ScalarOperator ScalarString="CASE WHEN [@back_only_1_step]=&apos;y&apos; AND [Expr1005]&gt;(0) THEN (1) ELSE (0) END"><IF><Condition><ScalarOperator><Logical Operation="AND"><ScalarOperator><Compare CompareOp="EQ"><ScalarOperator><Identifier><ColumnReference Column="@back_only_1_step"></ColumnReference></Identifier></ScalarOperator><ScalarOperator><Const ConstValue="&apos;y&apos;"></Const></ScalarOperator></Compare></ScalarOperator><ScalarOperator><Compare CompareOp="GT"><ScalarOperator><Identifier><ColumnReference Column="Expr1005"></ColumnReference></Identifier></ScalarOperator><ScalarOperator><Const ConstValue="(0)"></Const></ScalarOperator></Compare></ScalarOperator></Logical></ScalarOperator></Condition><Then><ScalarOperator><Const ConstValue="(1)"></Const></ScalarOperator></Then><Else><ScalarOperator><Const ConstValue="(0)"></Const></ScalarOperator></Else></IF></ScalarOperator></DefinedValue></DefinedValues><RelOp NodeId="1" PhysicalOp="Nested Loops" LogicalOp="Left Outer Join" EstimateRows="1" EstimateIO="0" EstimateCPU="4.18e-06" AvgRowSize="11" EstimatedTotalSubtreeCost="0.301694" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row"><OutputList><ColumnReference Column="Expr1005"></ColumnReference></OutputList><NestedLoops Optimized="0"><PassThru><ScalarOperator ScalarString="IsFalseOrNull [@back_only_1_step]=&apos;y&apos;"><Logical Operation="IsFalseOrNull"><ScalarOperator><Compare CompareOp="EQ"><ScalarOperator><Identifier><ColumnReference Column="@back_only_1_step"></ColumnReference></Identifier></ScalarOperator><ScalarOperator><Const ConstValue="&apos;y&apos;"></Const></ScalarOperator></Compare></ScalarOperator></Logical></ScalarOperator></PassThru><RelOp NodeId="2" PhysicalOp="Constant Scan" LogicalOp="Constant Scan" EstimateRows="1" EstimateIO="0" EstimateCPU="1.157e-06" AvgRowSize="9" EstimatedTotalSubtreeCost="1.157e-06" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row"><OutputList></OutputList><ConstantScan></ConstantScan></RelOp><RelOp NodeId="3" PhysicalOp="Assert" LogicalOp="Assert" EstimateRows="1" EstimateIO="0" EstimateCPU="4.8e-07" AvgRowSize="11" EstimatedTotalSubtreeCost="0.301688" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row"><OutputList><ColumnReference Column="Expr1005"></ColumnReference></OutputList><Assert StartupExpression="0"><RelOp NodeId="4" PhysicalOp="Stream Aggregate" LogicalOp="Aggregate" EstimateRows="1" EstimateIO="0" EstimateCPU="1.1e-06" AvgRowSize="19" EstimatedTotalSubtreeCost="0.301688" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row"><OutputList><ColumnReference Column="Expr1004"></ColumnReference><ColumnReference Column="Expr1005"></ColumnReference></OutputList><StreamAggregate><DefinedValues><DefinedValue><ColumnReference Column="Expr1004"></ColumnReference><ScalarOperator ScalarString="Count(*)"><Aggregate AggType="countstar" Distinct="0"></Aggregate></ScalarOperator></DefinedValue><DefinedValue><ColumnReference Column="Expr1005"></ColumnReference><ScalarOperator ScalarString="ANY([Expr1007])"><Aggregate Distinct="0" AggType="ANY"><ScalarOperator><Identifier><ColumnReference Column="Expr1007"></ColumnReference></Identifier></ScalarOperator></Aggregate></ScalarOperator></DefinedValue></DefinedValues><RelOp NodeId="5" PhysicalOp="Compute Scalar" LogicalOp="Compute Scalar" EstimateRows="1" EstimateIO="0" EstimateCPU="1e-07" AvgRowSize="11" EstimatedTotalSubtreeCost="0.301687" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row"><OutputList><ColumnReference Column="Expr1007"></ColumnReference></OutputList><ComputeScalar><DefinedValues><DefinedValue><ColumnReference Column="Expr1007"></ColumnReference><ScalarOperator ScalarString="len([PSYCHOLOGY_TEST_1].[dbo].[T_TESTING_STEP].[RESULT_TXT])"><Intrinsic FunctionName="len"><ScalarOperator><Identifier><ColumnReference Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TESTING_STEP]" Column="RESULT_TXT"></ColumnReference></Identifier></ScalarOperator></Intrinsic></ScalarOperator></DefinedValue></DefinedValues><RelOp NodeId="6" PhysicalOp="Clustered Index Scan" LogicalOp="Clustered Index Scan" EstimateRows="1" EstimatedRowsRead="22015" EstimateIO="0.25794" EstimateCPU="0.0243735" AvgRowSize="1043" EstimatedTotalSubtreeCost="0.282313" TableCardinality="22015" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row"><OutputList><ColumnReference Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TESTING_STEP]" Column="RESULT_TXT"></ColumnReference></OutputList><IndexScan Ordered="0" ForcedIndex="0" ForceScan="0" NoExpandHint="0" Storage="RowStore"><DefinedValues><DefinedValue><ColumnReference Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TESTING_STEP]" Column="RESULT_TXT"></ColumnReference></DefinedValue></DefinedValues><Object Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TESTING_STEP]" Index="[PK_T_TESTING_STEP]" IndexKind="Clustered" Storage="RowStore"></Object><Predicate><ScalarOperator ScalarString="[PSYCHOLOGY_TEST_1].[dbo].[T_TESTING_STEP].[T_TESTING_ID]=[@t_testing_id] AND [PSYCHOLOGY_TEST_1].[dbo].[T_TESTING_STEP].[T_TEST_STEP_ID]=[@current_step_id]"><Logical Operation="AND"><ScalarOperator><Compare CompareOp="EQ"><ScalarOperator><Identifier><ColumnReference Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TESTING_STEP]" Column="T_TESTING_ID"></ColumnReference></Identifier></ScalarOperator><ScalarOperator><Identifier><ColumnReference Column="@t_testing_id"></ColumnReference></Identifier></ScalarOperator></Compare></ScalarOperator><ScalarOperator><Compare CompareOp="EQ"><ScalarOperator><Identifier><ColumnReference Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TESTING_STEP]" Column="T_TEST_STEP_ID"></ColumnReference></Identifier></ScalarOperator><ScalarOperator><Identifier><ColumnReference Column="@current_step_id"></ColumnReference></Identifier></ScalarOperator></Compare></ScalarOperator></Logical></ScalarOperator></Predicate></IndexScan></RelOp></ComputeScalar></RelOp></StreamAggregate></RelOp><Predicate><ScalarOperator ScalarString="CASE WHEN [Expr1004]&gt;(1) THEN (0) ELSE NULL END"><IF><Condition><ScalarOperator><Compare CompareOp="GT"><ScalarOperator><Identifier><ColumnReference Column="Expr1004"></ColumnReference></Identifier></ScalarOperator><ScalarOperator><Const ConstValue="(1)"></Const></ScalarOperator></Compare></ScalarOperator></Condition><Then><ScalarOperator><Const ConstValue="(0)"></Const></ScalarOperator></Then><Else><ScalarOperator><Const ConstValue="NULL"></Const></ScalarOperator></Else></IF></ScalarOperator></Predicate></Assert></RelOp></NestedLoops></RelOp></ComputeScalar></RelOp><ParameterList><ColumnReference Column="@t_testing_id" ParameterDataType="uniqueidentifier" ParameterCompiledValue="{guid&apos;E7FAB167-C47A-4865-A8AE-429FA778414C&apos;}"></ColumnReference></ParameterList></QueryPlan></Condition><Then><Statements><StmtSimple StatementText=" &#xd;&#xa;      begin&#xd;&#xa;        RAISERROR (&apos;TEST DOES NOT ALLOW BACK MORE THEN ONCE !&apos;,16,1,0) with log             &#xd;&#xa;        " StatementId="14" StatementCompId="16" StatementType="RAISERROR" RetrievedFromCache="false"></StmtSimple><StmtSimple StatementText="commit transaction&#xd;&#xa;        " StatementId="15" StatementCompId="17" StatementType="COMMIT TRANSACTION" RetrievedFromCache="false"></StmtSimple><StmtSimple StatementText="return" StatementId="16" StatementCompId="18" StatementType="RETURN NONE" RetrievedFromCache="false"></StmtSimple></Statements></Then></StmtCond><StmtSimple StatementText="&#xd;&#xa;      end &#xd;&#xa;  &#xd;&#xa;&#xd;&#xa; exec  get_prev_step_id &#xd;&#xa;  @current_step_id ,&#xd;&#xa;  @prev_step_id OUTPUT" StatementId="17" StatementCompId="20" StatementType="EXECUTE PROC" RetrievedFromCache="false"><StoredProc ProcName="get_prev_step_id"><Statements><StmtSimple StatementText="&#xd;&#xa;create procedure [dbo].[get_prev_step_id] &#xd;&#xa;@current_step_id uniqueidentifier,&#xd;&#xa;@prev_step_id uniqueidentifier OUTPUT&#xd;&#xa;&#xd;&#xa;as &#xd;&#xa;&#xd;&#xa;declare @t_test_id uniqueidentifier&#xd;&#xa;declare @step_order int&#xd;&#xa;declare @prev_step_order int&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;select @t_test_id = t_test_id, @step_order=step_order&#xd;&#xa;from t_test_step &#xd;&#xa;where t_test_step_id = @current_step_id" StatementId="18" StatementCompId="32" StatementType="SELECT" RetrievedFromCache="false" StatementSubTreeCost="0.0032831" StatementEstRows="1" SecurityPolicyApplied="false" StatementOptmLevel="TRIVIAL" QueryHash="0x54BE77C0607C07D8" QueryPlanHash="0xDF8BDEE1E834C377" CardinalityEstimationModelVersion="70"><StatementSetOptions QUOTED_IDENTIFIER="true" ARITHABORT="true" CONCAT_NULL_YIELDS_NULL="true" ANSI_NULLS="true" ANSI_PADDING="true" ANSI_WARNINGS="true" NUMERIC_ROUNDABORT="false"></StatementSetOptions><QueryPlan CachedPlanSize="16" CompileTime="0" CompileCPU="0" CompileMemory="192"><MemoryGrantInfo SerialRequiredMemory="0" SerialDesiredMemory="0" GrantedMemory="0" MaxUsedMemory="0"></MemoryGrantInfo><OptimizerHardwareDependentProperties EstimatedAvailableMemoryGrant="311472" EstimatedPagesCached="77868" EstimatedAvailableDegreeOfParallelism="2" MaxCompileMemory="854992"></OptimizerHardwareDependentProperties><RelOp NodeId="0" PhysicalOp="Clustered Index Seek" LogicalOp="Clustered Index Seek" EstimateRows="1" EstimatedRowsRead="1" EstimateIO="0.003125" EstimateCPU="0.0001581" AvgRowSize="27" EstimatedTotalSubtreeCost="0.0032831" TableCardinality="940" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row"><OutputList><ColumnReference Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TEST_STEP]" Column="STEP_ORDER"></ColumnReference><ColumnReference Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TEST_STEP]" Column="T_TEST_ID"></ColumnReference></OutputList><IndexScan Ordered="1" ScanDirection="FORWARD" ForcedIndex="0" ForceSeek="0" ForceScan="0" NoExpandHint="0" Storage="RowStore"><DefinedValues><DefinedValue><ColumnReference Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TEST_STEP]" Column="STEP_ORDER"></ColumnReference></DefinedValue><DefinedValue><ColumnReference Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TEST_STEP]" Column="T_TEST_ID"></ColumnReference></DefinedValue></DefinedValues><Object Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TEST_STEP]" Index="[PK_T_TEST_STEP]" IndexKind="Clustered" Storage="RowStore"></Object><SeekPredicates><SeekPredicateNew><SeekKeys><Prefix ScanType="EQ"><RangeColumns><ColumnReference Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TEST_STEP]" Column="T_TEST_STEP_ID"></ColumnReference></RangeColumns><RangeExpressions><ScalarOperator ScalarString="[@current_step_id]"><Identifier><ColumnReference Column="@current_step_id"></ColumnReference></Identifier></ScalarOperator></RangeExpressions></Prefix></SeekKeys></SeekPredicateNew></SeekPredicates></IndexScan></RelOp></QueryPlan></StmtSimple><StmtSimple StatementText="&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;select @prev_step_order=max(step_order)&#xd;&#xa;from t_test_step&#xd;&#xa;where t_test_id=@t_test_id and step_order&lt;@step_order" StatementId="19" StatementCompId="33" StatementType="SELECT" RetrievedFromCache="false" StatementSubTreeCost="0.00334737" StatementEstRows="1" SecurityPolicyApplied="false" StatementOptmLevel="FULL" QueryHash="0xBA15A90BE2663B07" QueryPlanHash="0xF0BCC04C21E01D13" StatementOptmEarlyAbortReason="GoodEnoughPlanFound" CardinalityEstimationModelVersion="70"><StatementSetOptions QUOTED_IDENTIFIER="true" ARITHABORT="true" CONCAT_NULL_YIELDS_NULL="true" ANSI_NULLS="true" ANSI_PADDING="true" ANSI_WARNINGS="true" NUMERIC_ROUNDABORT="false"></StatementSetOptions><QueryPlan CachedPlanSize="24" CompileTime="1" CompileCPU="1" CompileMemory="304"><MemoryGrantInfo SerialRequiredMemory="0" SerialDesiredMemory="0" GrantedMemory="0" MaxUsedMemory="0"></MemoryGrantInfo><OptimizerHardwareDependentProperties EstimatedAvailableMemoryGrant="311472" EstimatedPagesCached="77868" EstimatedAvailableDegreeOfParallelism="2" MaxCompileMemory="854992"></OptimizerHardwareDependentProperties><RelOp NodeId="0" PhysicalOp="Stream Aggregate" LogicalOp="Aggregate" EstimateRows="1" EstimateIO="0" EstimateCPU="1.1e-06" AvgRowSize="11" EstimatedTotalSubtreeCost="0.00334737" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row"><OutputList><ColumnReference Column="Expr1002"></ColumnReference></OutputList><StreamAggregate><DefinedValues><DefinedValue><ColumnReference Column="Expr1002"></ColumnReference><ScalarOperator ScalarString="MAX([PSYCHOLOGY_TEST_1].[dbo].[T_TEST_STEP].[STEP_ORDER])"><Aggregate Distinct="0" AggType="MAX"><ScalarOperator><Identifier><ColumnReference Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TEST_STEP]" Column="STEP_ORDER"></ColumnReference></Identifier></ScalarOperator></Aggregate></ScalarOperator></DefinedValue></DefinedValues><RelOp NodeId="1" PhysicalOp="Top" LogicalOp="Top" EstimateRows="1" EstimateIO="0" EstimateCPU="1e-07" AvgRowSize="11" EstimatedTotalSubtreeCost="0.00334627" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row"><OutputList><ColumnReference Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TEST_STEP]" Column="STEP_ORDER"></ColumnReference></OutputList><Top RowCount="0" IsPercent="0" WithTies="0"><TopExpression><ScalarOperator ScalarString="(1)"><Const ConstValue="(1)"></Const></ScalarOperator></TopExpression><RelOp NodeId="2" PhysicalOp="Index Seek" LogicalOp="Index Seek" EstimateRows="1" EstimateRowsWithoutRowGoal="27.825" EstimatedRowsRead="282" EstimateIO="0.00460648" EstimateCPU="0.0004672" AvgRowSize="27" EstimatedTotalSubtreeCost="0.00334131" TableCardinality="940" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row"><OutputList><ColumnReference Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TEST_STEP]" Column="STEP_ORDER"></ColumnReference><ColumnReference Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TEST_STEP]" Column="T_TEST_ID"></ColumnReference></OutputList><IndexScan Ordered="1" ScanDirection="BACKWARD" ForcedIndex="0" ForceSeek="0" ForceScan="0" NoExpandHint="0" Storage="RowStore"><DefinedValues><DefinedValue><ColumnReference Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TEST_STEP]" Column="STEP_ORDER"></ColumnReference></DefinedValue><DefinedValue><ColumnReference Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TEST_STEP]" Column="T_TEST_ID"></ColumnReference></DefinedValue></DefinedValues><Object Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TEST_STEP]" Index="[IX_T_TEST_STEP_1]" IndexKind="NonClustered" Storage="RowStore"></Object><SeekPredicates><SeekPredicateNew><SeekKeys><EndRange ScanType="LT"><RangeColumns><ColumnReference Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TEST_STEP]" Column="STEP_ORDER"></ColumnReference></RangeColumns><RangeExpressions><ScalarOperator ScalarString="[@step_order]"><Identifier><ColumnReference Column="@step_order"></ColumnReference></Identifier></ScalarOperator></RangeExpressions></EndRange></SeekKeys></SeekPredicateNew></SeekPredicates><Predicate><ScalarOperator ScalarString="[PSYCHOLOGY_TEST_1].[dbo].[T_TEST_STEP].[T_TEST_ID]=[@t_test_id]"><Compare CompareOp="EQ"><ScalarOperator><Identifier><ColumnReference Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TEST_STEP]" Column="T_TEST_ID"></ColumnReference></Identifier></ScalarOperator><ScalarOperator><Identifier><ColumnReference Column="@t_test_id"></ColumnReference></Identifier></ScalarOperator></Compare></ScalarOperator></Predicate></IndexScan></RelOp></Top></RelOp></StreamAggregate></RelOp></QueryPlan></StmtSimple><StmtCond StatementText="&#xd;&#xa;&#xd;&#xa;if (@prev_step_order is not null) and (@prev_step_order&lt;@step_order)" StatementId="20" StatementCompId="34" StatementType="COND" RetrievedFromCache="false"><Condition></Condition><Then><Statements><StmtSimple StatementText="&#xd;&#xa;begin&#xd;&#xa;  select @prev_step_id=t_test_step_id&#xd;&#xa;  from t_test_step&#xd;&#xa;  where t_test_id=@t_test_id and step_order=@prev_step_order" StatementId="21" StatementCompId="35" StatementType="SELECT" RetrievedFromCache="false" StatementSubTreeCost="0.0032831" StatementEstRows="1" SecurityPolicyApplied="false" StatementOptmLevel="TRIVIAL" QueryHash="0xB0188EF8F1F36495" QueryPlanHash="0xA4D1017AE79A8837" CardinalityEstimationModelVersion="70"><StatementSetOptions QUOTED_IDENTIFIER="true" ARITHABORT="true" CONCAT_NULL_YIELDS_NULL="true" ANSI_NULLS="true" ANSI_PADDING="true" ANSI_WARNINGS="true" NUMERIC_ROUNDABORT="false"></StatementSetOptions><QueryPlan CachedPlanSize="16" CompileTime="0" CompileCPU="0" CompileMemory="192"><MemoryGrantInfo SerialRequiredMemory="0" SerialDesiredMemory="0" GrantedMemory="0" MaxUsedMemory="0"></MemoryGrantInfo><OptimizerHardwareDependentProperties EstimatedAvailableMemoryGrant="311472" EstimatedPagesCached="77868" EstimatedAvailableDegreeOfParallelism="2" MaxCompileMemory="854992"></OptimizerHardwareDependentProperties><RelOp NodeId="0" PhysicalOp="Index Seek" LogicalOp="Index Seek" EstimateRows="1" EstimatedRowsRead="1" EstimateIO="0.003125" EstimateCPU="0.0001581" AvgRowSize="23" EstimatedTotalSubtreeCost="0.0032831" TableCardinality="940" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row"><OutputList><ColumnReference Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TEST_STEP]" Column="T_TEST_STEP_ID"></ColumnReference></OutputList><IndexScan Ordered="1" ScanDirection="FORWARD" ForcedIndex="0" ForceSeek="0" ForceScan="0" NoExpandHint="0" Storage="RowStore"><DefinedValues><DefinedValue><ColumnReference Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TEST_STEP]" Column="T_TEST_STEP_ID"></ColumnReference></DefinedValue></DefinedValues><Object Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TEST_STEP]" Index="[IX_T_TEST_STEP_1]" IndexKind="NonClustered" Storage="RowStore"></Object><SeekPredicates><SeekPredicateNew><SeekKeys><Prefix ScanType="EQ"><RangeColumns><ColumnReference Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TEST_STEP]" Column="STEP_ORDER"></ColumnReference><ColumnReference Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TEST_STEP]" Column="T_TEST_ID"></ColumnReference></RangeColumns><RangeExpressions><ScalarOperator ScalarString="[@prev_step_order]"><Identifier><ColumnReference Column="@prev_step_order"></ColumnReference></Identifier></ScalarOperator><ScalarOperator ScalarString="[@t_test_id]"><Identifier><ColumnReference Column="@t_test_id"></ColumnReference></Identifier></ScalarOperator></RangeExpressions></Prefix></SeekKeys></SeekPredicateNew></SeekPredicates></IndexScan></RelOp></QueryPlan></StmtSimple></Statements></Then><Else><Statements><StmtSimple StatementText="&#xd;&#xa;&#xd;&#xa;end&#xd;&#xa;else &#xd;&#xa;set @prev_step_id = null &#xd;&#xa;&#xd;&#xa;&#xd;&#xa;" StatementId="22" StatementCompId="38" StatementType="ASSIGN" RetrievedFromCache="false"></StmtSimple></Statements></Else></StmtCond></Statements></StoredProc></StmtSimple><StmtCond StatementText="&#xd;&#xa;&#xd;&#xa;/* if step exists  change current_step_id */&#xd;&#xa; if  @prev_step_id is not null" StatementId="23" StatementCompId="21" StatementType="COND" RetrievedFromCache="false"><Condition></Condition><Then><Statements><StmtSimple StatementText=" &#xd;&#xa;   begin&#xd;&#xa;    update t_testing_test&#xd;&#xa;    set current_step_id=@prev_step_id&#xd;&#xa;    &#xd;&#xa;    where t_testing_id = @t_testing_id&#xd;&#xa;    and t_test_id=@t_test_id" StatementId="24" StatementCompId="22" StatementType="UPDATE" RetrievedFromCache="false" StatementSubTreeCost="0.0157959" StatementEstRows="1" SecurityPolicyApplied="false" StatementOptmLevel="TRIVIAL" QueryHash="0x031BE9E0CEEDA9EB" QueryPlanHash="0x1ECC365DE96470BA" CardinalityEstimationModelVersion="70"><StatementSetOptions QUOTED_IDENTIFIER="true" ARITHABORT="true" CONCAT_NULL_YIELDS_NULL="true" ANSI_NULLS="true" ANSI_PADDING="true" ANSI_WARNINGS="true" NUMERIC_ROUNDABORT="false"></StatementSetOptions><QueryPlan CachedPlanSize="24" CompileTime="1" CompileCPU="1" CompileMemory="400"><MemoryGrantInfo SerialRequiredMemory="0" SerialDesiredMemory="0" GrantedMemory="0" MaxUsedMemory="0"></MemoryGrantInfo><OptimizerHardwareDependentProperties EstimatedAvailableMemoryGrant="311472" EstimatedPagesCached="77868" EstimatedAvailableDegreeOfParallelism="2" MaxCompileMemory="854992"></OptimizerHardwareDependentProperties><RelOp NodeId="0" PhysicalOp="Clustered Index Update" LogicalOp="Update" EstimateRows="1" EstimateIO="0.01" EstimateCPU="1e-06" AvgRowSize="9" EstimatedTotalSubtreeCost="0.0157959" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row"><OutputList></OutputList><Update DMLRequestSort="0"><Object Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TESTING_TEST]" Index="[PK_T_TESTING_TEST]" IndexKind="Clustered" Storage="RowStore"></Object><SetPredicate><ScalarOperator ScalarString="[PSYCHOLOGY_TEST_1].[dbo].[T_TESTING_TEST].[CURRENT_STEP_ID] = [@prev_step_id]"><ScalarExpressionList><ScalarOperator><MultipleAssign><Assign><ColumnReference Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TESTING_TEST]" Column="CURRENT_STEP_ID"></ColumnReference><ScalarOperator><Identifier><ColumnReference Column="@prev_step_id"></ColumnReference></Identifier></ScalarOperator></Assign></MultipleAssign></ScalarOperator></ScalarExpressionList></ScalarOperator></SetPredicate><RelOp NodeId="1" PhysicalOp="Top" LogicalOp="Top" EstimateRows="1" EstimateIO="0" EstimateCPU="1e-07" AvgRowSize="23" EstimatedTotalSubtreeCost="0.00579488" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row"><OutputList><ColumnReference Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TESTING_TEST]" Column="T_TESTING_TEST_ID"></ColumnReference></OutputList><Top RowCount="1" IsPercent="0" WithTies="0"><TopExpression><ScalarOperator ScalarString="(0)"><Const ConstValue="(0)"></Const></ScalarOperator></TopExpression><RelOp NodeId="2" PhysicalOp="Clustered Index Scan" LogicalOp="Clustered Index Scan" EstimateRows="1" EstimatedRowsRead="227" EstimateIO="0.00534722" EstimateCPU="0.0004067" AvgRowSize="55" EstimatedTotalSubtreeCost="0.00575392" TableCardinality="227" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row"><OutputList><ColumnReference Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TESTING_TEST]" Column="T_TESTING_TEST_ID"></ColumnReference></OutputList><IndexScan Ordered="1" ForcedIndex="0" ForceScan="0" NoExpandHint="0" Storage="RowStore"><DefinedValues><DefinedValue><ColumnReference Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TESTING_TEST]" Column="T_TESTING_TEST_ID"></ColumnReference></DefinedValue></DefinedValues><Object Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TESTING_TEST]" Index="[PK_T_TESTING_TEST]" IndexKind="Clustered" Storage="RowStore"></Object><Predicate><ScalarOperator ScalarString="[PSYCHOLOGY_TEST_1].[dbo].[T_TESTING_TEST].[T_TESTING_ID]=[@t_testing_id] AND [PSYCHOLOGY_TEST_1].[dbo].[T_TESTING_TEST].[T_TEST_ID]=[@t_test_id]"><Logical Operation="AND"><ScalarOperator><Compare CompareOp="EQ"><ScalarOperator><Identifier><ColumnReference Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TESTING_TEST]" Column="T_TESTING_ID"></ColumnReference></Identifier></ScalarOperator><ScalarOperator><Identifier><ColumnReference Column="@t_testing_id"></ColumnReference></Identifier></ScalarOperator></Compare></ScalarOperator><ScalarOperator><Compare CompareOp="EQ"><ScalarOperator><Identifier><ColumnReference Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TESTING_TEST]" Column="T_TEST_ID"></ColumnReference></Identifier></ScalarOperator><ScalarOperator><Identifier><ColumnReference Column="@t_test_id"></ColumnReference></Identifier></ScalarOperator></Compare></ScalarOperator></Logical></ScalarOperator></Predicate></IndexScan></RelOp></Top></RelOp></Update></RelOp><ParameterList><ColumnReference Column="@t_testing_id" ParameterDataType="uniqueidentifier" ParameterCompiledValue="{guid&apos;E7FAB167-C47A-4865-A8AE-429FA778414C&apos;}"></ColumnReference></ParameterList></QueryPlan></StmtSimple><StmtSimple StatementText="&#xd;&#xa;&#xd;&#xa;    update  &#xd;&#xa;    t_testing_step &#xd;&#xa;    set &#xd;&#xa;    t_testing_step_status_id = 1,&#xd;&#xa;    view_date=getdate()&#xd;&#xa;    where t_test_step_id=@prev_step_id&#xd;&#xa;    and t_testing_id = @t_testing_id" StatementId="25" StatementCompId="23" StatementType="UPDATE" RetrievedFromCache="false" StatementSubTreeCost="0.314975" StatementEstRows="1" SecurityPolicyApplied="false" StatementOptmLevel="FULL" QueryHash="0x70EDE11C751B2C43" QueryPlanHash="0x6D034E12592C5809" StatementOptmEarlyAbortReason="GoodEnoughPlanFound" CardinalityEstimationModelVersion="70"><StatementSetOptions QUOTED_IDENTIFIER="true" ARITHABORT="true" CONCAT_NULL_YIELDS_NULL="true" ANSI_NULLS="true" ANSI_PADDING="true" ANSI_WARNINGS="true" NUMERIC_ROUNDABORT="false"></StatementSetOptions><QueryPlan CachedPlanSize="32" CompileTime="3" CompileCPU="3" CompileMemory="720"><MemoryGrantInfo SerialRequiredMemory="0" SerialDesiredMemory="0" GrantedMemory="0" MaxUsedMemory="0"></MemoryGrantInfo><OptimizerHardwareDependentProperties EstimatedAvailableMemoryGrant="311472" EstimatedPagesCached="77868" EstimatedAvailableDegreeOfParallelism="2" MaxCompileMemory="854992"></OptimizerHardwareDependentProperties><RelOp NodeId="1" PhysicalOp="Assert" LogicalOp="Assert" EstimateRows="1" EstimateIO="0" EstimateCPU="4.8e-07" AvgRowSize="9" EstimatedTotalSubtreeCost="0.314975" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row"><OutputList></OutputList><Assert StartupExpression="0"><RelOp NodeId="2" PhysicalOp="Nested Loops" LogicalOp="Left Semi Join" EstimateRows="1" EstimateIO="0" EstimateCPU="4.18e-06" AvgRowSize="9" EstimatedTotalSubtreeCost="0.314975" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row"><OutputList><ColumnReference Column="Expr1018"></ColumnReference></OutputList><NestedLoops Optimized="0"><DefinedValues><DefinedValue><ColumnReference Column="Expr1018"></ColumnReference></DefinedValue></DefinedValues><OuterReferences><ColumnReference Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TESTING_STEP]" Column="T_TESTING_STEP_STATUS_ID"></ColumnReference></OuterReferences><ProbeColumn><ColumnReference Column="Expr1018"></ColumnReference></ProbeColumn><RelOp NodeId="3" PhysicalOp="Clustered Index Update" LogicalOp="Update" EstimateRows="1" EstimateIO="0.01" EstimateCPU="1e-06" AvgRowSize="11" EstimatedTotalSubtreeCost="0.311688" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row"><OutputList><ColumnReference Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TESTING_STEP]" Column="T_TESTING_STEP_STATUS_ID"></ColumnReference></OutputList><Update DMLRequestSort="0"><Object Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TESTING_STEP]" Index="[PK_T_TESTING_STEP]" IndexKind="Clustered" Storage="RowStore"></Object><SetPredicate><ScalarOperator ScalarString="[PSYCHOLOGY_TEST_1].[dbo].[T_TESTING_STEP].[T_TESTING_STEP_STATUS_ID] = [Expr1002],[PSYCHOLOGY_TEST_1].[dbo].[T_TESTING_STEP].[VIEW_DATE] = [Expr1003]"><ScalarExpressionList><ScalarOperator><MultipleAssign><Assign><ColumnReference Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TESTING_STEP]" Column="T_TESTING_STEP_STATUS_ID"></ColumnReference><ScalarOperator><Identifier><ColumnReference Column="Expr1002"></ColumnReference></Identifier></ScalarOperator></Assign><Assign><ColumnReference Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TESTING_STEP]" Column="VIEW_DATE"></ColumnReference><ScalarOperator><Identifier><ColumnReference Column="Expr1003"></ColumnReference></Identifier></ScalarOperator></Assign></MultipleAssign></ScalarOperator></ScalarExpressionList></ScalarOperator></SetPredicate><RelOp NodeId="4" PhysicalOp="Compute Scalar" LogicalOp="Compute Scalar" EstimateRows="1" EstimateIO="0" EstimateCPU="1e-07" AvgRowSize="35" EstimatedTotalSubtreeCost="0.301687" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row"><OutputList><ColumnReference Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TESTING_STEP]" Column="T_TESTING_STEP_ID"></ColumnReference><ColumnReference Column="Expr1002"></ColumnReference><ColumnReference Column="Expr1003"></ColumnReference></OutputList><ComputeScalar><DefinedValues><DefinedValue><ColumnReference Column="Expr1002"></ColumnReference><ScalarOperator ScalarString="(1)"><Const ConstValue="(1)"></Const></ScalarOperator></DefinedValue><DefinedValue><ColumnReference Column="Expr1003"></ColumnReference><ScalarOperator ScalarString="getdate()"><Identifier><ColumnReference Column="ConstExpr1010"><ScalarOperator><Intrinsic FunctionName="getdate"></Intrinsic></ScalarOperator></ColumnReference></Identifier></ScalarOperator></DefinedValue></DefinedValues><RelOp NodeId="5" PhysicalOp="Top" LogicalOp="Top" EstimateRows="1" EstimateIO="0" EstimateCPU="1e-07" AvgRowSize="23" EstimatedTotalSubtreeCost="0.301687" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row"><OutputList><ColumnReference Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TESTING_STEP]" Column="T_TESTING_STEP_ID"></ColumnReference></OutputList><Top RowCount="1" IsPercent="0" WithTies="0"><TopExpression><ScalarOperator ScalarString="(0)"><Const ConstValue="(0)"></Const></ScalarOperator></TopExpression><RelOp NodeId="6" PhysicalOp="Clustered Index Scan" LogicalOp="Clustered Index Scan" EstimateRows="1" EstimatedRowsRead="22015" EstimateIO="0.25794" EstimateCPU="0.0243735" AvgRowSize="55" EstimatedTotalSubtreeCost="0.282313" TableCardinality="22015" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row"><OutputList><ColumnReference Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TESTING_STEP]" Column="T_TESTING_STEP_ID"></ColumnReference></OutputList><IndexScan Ordered="1" ForcedIndex="0" ForceScan="0" NoExpandHint="0" Storage="RowStore"><DefinedValues><DefinedValue><ColumnReference Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TESTING_STEP]" Column="T_TESTING_STEP_ID"></ColumnReference></DefinedValue></DefinedValues><Object Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TESTING_STEP]" Index="[PK_T_TESTING_STEP]" IndexKind="Clustered" Storage="RowStore"></Object><Predicate><ScalarOperator ScalarString="[PSYCHOLOGY_TEST_1].[dbo].[T_TESTING_STEP].[T_TEST_STEP_ID]=[@prev_step_id] AND [PSYCHOLOGY_TEST_1].[dbo].[T_TESTING_STEP].[T_TESTING_ID]=[@t_testing_id]"><Logical Operation="AND"><ScalarOperator><Compare CompareOp="EQ"><ScalarOperator><Identifier><ColumnReference Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TESTING_STEP]" Column="T_TEST_STEP_ID"></ColumnReference></Identifier></ScalarOperator><ScalarOperator><Identifier><ColumnReference Column="@prev_step_id"></ColumnReference></Identifier></ScalarOperator></Compare></ScalarOperator><ScalarOperator><Compare CompareOp="EQ"><ScalarOperator><Identifier><ColumnReference Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TESTING_STEP]" Column="T_TESTING_ID"></ColumnReference></Identifier></ScalarOperator><ScalarOperator><Identifier><ColumnReference Column="@t_testing_id"></ColumnReference></Identifier></ScalarOperator></Compare></ScalarOperator></Logical></ScalarOperator></Predicate></IndexScan></RelOp></Top></RelOp></ComputeScalar></RelOp></Update></RelOp><RelOp NodeId="7" PhysicalOp="Clustered Index Seek" LogicalOp="Clustered Index Seek" EstimateRows="1" EstimatedRowsRead="1" EstimateIO="0.003125" EstimateCPU="0.0001581" AvgRowSize="9" EstimatedTotalSubtreeCost="0.0032831" TableCardinality="4" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row"><OutputList></OutputList><IndexScan Ordered="1" ScanDirection="FORWARD" ForcedIndex="1" ForceSeek="0" ForceScan="0" NoExpandHint="0" Storage="RowStore"><DefinedValues></DefinedValues><Object Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TESTING_STEP_STATUS]" Index="[PK_T_TESTING_STEP_STATUS]" IndexKind="Clustered" Storage="RowStore"></Object><SeekPredicates><SeekPredicateNew><SeekKeys><Prefix ScanType="EQ"><RangeColumns><ColumnReference Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TESTING_STEP_STATUS]" Column="T_TESTING_STEP_STATUS_ID"></ColumnReference></RangeColumns><RangeExpressions><ScalarOperator ScalarString="[PSYCHOLOGY_TEST_1].[dbo].[T_TESTING_STEP].[T_TESTING_STEP_STATUS_ID]"><Identifier><ColumnReference Database="[PSYCHOLOGY_TEST_1]" Schema="[dbo]" Table="[T_TESTING_STEP]" Column="T_TESTING_STEP_STATUS_ID"></ColumnReference></Identifier></ScalarOperator></RangeExpressions></Prefix></SeekKeys></SeekPredicateNew></SeekPredicates></IndexScan></RelOp></NestedLoops></RelOp><Predicate><ScalarOperator ScalarString="CASE WHEN [Expr1018] IS NULL THEN (0) ELSE NULL END"><IF><Condition><ScalarOperator><Logical Operation="IS NULL"><ScalarOperator><Identifier><ColumnReference Column="Expr1018"></ColumnReference></Identifier></ScalarOperator></Logical></ScalarOperator></Condition><Then><ScalarOperator><Const ConstValue="(0)"></Const></ScalarOperator></Then><Else><ScalarOperator><Const ConstValue="NULL"></Const></ScalarOperator></Else></IF></ScalarOperator></Predicate></Assert></RelOp><ParameterList><ColumnReference Column="@t_testing_id" ParameterDataType="uniqueidentifier" ParameterCompiledValue="{guid&apos;E7FAB167-C47A-4865-A8AE-429FA778414C&apos;}"></ColumnReference></ParameterList></QueryPlan></StmtSimple></Statements></Then></StmtCond></Statements></Then><Else><Statements><StmtSimple StatementText="&#xd;&#xa;  end&#xd;&#xa;&#xd;&#xa;    &#xd;&#xa;  &#xd;&#xa;end &#xd;&#xa;/* in case of attemtp to change not current step ERROR message */&#xd;&#xa;else &#xd;&#xa;RAISERROR (&apos;CURRENT STEP ID DOES NOT EQUIL PROPOSED! ANSWER NOT ACCEPTED!&apos;,16,1,0) with log             &#xd;&#xa;&#xd;&#xa;" StatementId="26" StatementCompId="27" StatementType="RAISERROR" RetrievedFromCache="false"></StmtSimple></Statements></Else></StmtCond><StmtSimple StatementText="commit transaction&#xd;&#xa;" StatementId="27" StatementCompId="29" StatementType="COMMIT TRANSACTION" RetrievedFromCache="false"></StmtSimple><StmtSimple StatementText="SET XACT_ABORT OFF;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;" StatementId="28" StatementCompId="30" StatementType="SET ON/OFF" RetrievedFromCache="false"></StmtSimple></Statements></StoredProc></StmtSimple></Statements></Batch></BatchSequence></ShowPlanXML>